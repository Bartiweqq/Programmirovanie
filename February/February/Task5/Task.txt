Модифицируйте программу упр. 4 так, чтобы дочерний поток перед завершением распечатывал сообщение об этом. Используйте pthread_cleanup_push.