Возьмите за основу программу din_phil.C. Эта программа симулирует известную задачу про обедающих философов. 
Пять философов сидят за круглым столом и едят спагетти. Спагетти едят при помощи двух вилок. Каждые двое философов, сидящих рядом, пользуются общей вилкой. Философ некоторое время размышляет, потом пытается взять вилки и принимается за еду. Съев некоторое количество спагетти, философ освобождает вилки и снова начинает размышлять. Еще через некоторое время он снова принимается за еду, и т.Д., пока спагетти не кончатся. Если одну из вилок взять не получается, философ ждет, пока она освободится. 
В программе din_phil.C философы симулируются при помощи потоков, периоды размышлений и еды – при помощи usleep(3c), а вилки – при помощи мутексов. Философы всегда берут сначала левую вилку, а потом правую. При некоторых обстоятельствах это может приводить к мертвой блокировке. Измените протокол взаимодействия философов с вилками таким образом, чтобы мертвых блокировок не происходило.
